{"version":3,"sources":["pages/Home.js","pages/Proposal.js","images/YourLogo.png","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","passRate","setPassRate","totalP","setTotalP","counted","setCounted","voters","setVoters","useMoralis","Moralis","isInitialized","proposals","setProposals","Web3Api","useMoralisWeb3Api","sub","setSub","contractProcessor","useWeb3ExecuteFunction","dispatch","useNotification","handleNewNotificationNewProposal","type","icon","position","message","title","newProposal","a","options","contractAddress","functionName","abi","inputs","internalType","name","outputs","stateMutability","params","_description","_canVote","fetch","onSuccess","console","log","onError","error","getStatus","proposalId","ProposalCounts","Object","extend","query","Query","equalTo","first","undefined","result","attributes","passed","color","text","useEffect","getProposals","Proposals","descending","find","results","Promise","all","map","e","uid","description","proposer","id","to","state","table","length","getPassRate","votesUp","forEach","fetchTokenIdOwners","address","token_id","chain","token","getTokenIdOwners","tokenIdOwners","addresses","owner_of","className","info","style","width","marginTop","columnsConfig","data","header","pageSize","buttonConfig","isLoading","iconLayout","loadingText","theme","inputWidth","validation","required","value","onSubmit","createProposal","inputResult","Proposal","proposalDetails","useLocation","latestVote","setLatestVote","percUp","setPercUp","percDown","setPercDown","votes","setVotes","handleNewNotificationNewVote","castVote","upDown","_id","_vote","alert","getVotes","Votes","Number","votesDown","toFixed","votesDirection","voter","fill","votedFor","size","svg","content","seed","isDisabled","height","border","App","src","yourLogo","alt","signingMessage","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","appId","serverUrl","document","getElementById"],"mappings":"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","file":"static/js/main.001673e5.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./pages.css\";\nimport { TabList, Tab, Widget, Tag, Table, Form, useNotification} from \"web3uikit\";\nimport { Link } from \"react-router-dom\";\nimport { useMoralis, useMoralisWeb3Api, useWeb3ExecuteFunction } from \"react-moralis\";\n\nconst Home = () => {\n  const [passRate, setPassRate] = useState(0);\n  const [totalP, setTotalP] = useState(0);\n  const [counted, setCounted] = useState(0);\n  const [voters, setVoters] = useState(0);\n  const { Moralis, isInitialized } = useMoralis();\n  const [proposals, setProposals] = useState();\n  const Web3Api = useMoralisWeb3Api();\n  const [sub, setSub] = useState();\n  const contractProcessor = useWeb3ExecuteFunction();\n  const dispatch = useNotification();\n  \n\n  const handleNewNotificationNewProposal = function (type, icon, position) {\n    dispatch({\n    type: type,\n    message: 'Only token holders can create proposals',\n    title: 'Note:',\n    icon: icon,\n    position: position || 'topR',\n    });\n  };\n\n  async function createProposal(newProposal) {\n    let options = {\n      contractAddress: \"0x4d11ff4250D4b12Aa508d99E6fCa6700354E4271\",\n      functionName: \"createProposal\",\n      abi: [\n        {\n          inputs: [\n            {\n              internalType: \"string\",\n              name: \"_description\",\n              type: \"string\",\n            },\n            {\n              internalType: \"address[]\",\n              name: \"_canVote\",\n              type: \"address[]\",\n            },\n          ],\n          name: \"createProposal\",\n          outputs: [],\n          stateMutability: \"nonpayable\",\n          type: \"function\",\n        },\n      ],\n      params: {\n        _description: newProposal,\n        _canVote: voters,\n      },\n    };\n\n\n    await contractProcessor.fetch({\n      params: options,\n      onSuccess: () => {\n        console.log(\"Proposal Succesful\");\n        setSub(false);\n      },\n      onError: (error) => {\n        //alert(error.data.message);\n        handleNewNotificationNewProposal('warning');\n        setSub(false);\n      },\n    });\n  }\n\n\n  async function getStatus(proposalId) {\n    const ProposalCounts = Moralis.Object.extend(\"ProposalCountslFlixu\");\n    const query = new Moralis.Query(ProposalCounts);\n    query.equalTo(\"uid\", proposalId);\n    const result = await query.first();\n    if (result !== undefined) {\n      if (result.attributes.passed) {\n        return { color: \"green\", text: \"Passed\" };\n      } else {\n        return { color: \"IndianRed\", text: \"Rejected\" };\n      }\n    } else {\n      return { color: \"blue\", text: \"In progress\" };\n    }\n  }\n\n  useEffect(() => {\n    if (isInitialized) {\n\n      async function getProposals() {\n        const Proposals = Moralis.Object.extend(\"ProposalFixu\");\n        const query = new Moralis.Query(Proposals);\n        query.descending(\"uid_decimal\");\n        const results = await query.find();\n        const table = await Promise.all(\n          results.map(async (e) => [\n            e.attributes.uid,\n            e.attributes.description,\n            <Link to=\"/proposal\" state={{\n              description: e.attributes.description,\n              color: (await getStatus(e.attributes.uid)).color,\n              text: (await getStatus(e.attributes.uid)).text,\n              id: e.attributes.uid,\n              proposer: e.attributes.proposer\n              \n              }}>\n              <Tag\n                color={(await getStatus(e.attributes.uid)).color}\n                text={(await getStatus(e.attributes.uid)).text}\n              />\n            </Link>,\n          ])\n        );\n        setProposals(table);\n        setTotalP(results.length);\n      }\n\n\n      async function getPassRate() {\n        const ProposalCounts = Moralis.Object.extend(\"ProposalCountsFixu\");\n        const query = new Moralis.Query(ProposalCounts);\n        const results = await query.find();\n        let votesUp = 0;\n\n        results.forEach((e) => {\n          if (e.attributes.passed) {\n            votesUp++;\n          }\n        });\n\n        setCounted(results.length);\n        setPassRate((votesUp / results.length) * 100);\n      }\n\n\n      const fetchTokenIdOwners = async () => {\n        const options = {\n          address: \"0x88B48F654c30e99bc2e4A1559b4Dcf1aD93FA656\",\n          token_id:\n            \"41614406511745041653207711197477315887447207143736222868571693913704398586856\",\n          chain: \"rinkeby\",\n        };\n        const tokenIdOwners = await Web3Api.token.getTokenIdOwners(options);\n        const addresses = tokenIdOwners.result.map((e) => e.owner_of);\n        setVoters(addresses);\n      };\n\n\n      fetchTokenIdOwners();\n      getProposals();\n      getPassRate();\n      \n    }\n  }, [isInitialized]);\n\n\n  return (\n    <>\n      <div className=\"content\">\n        \n{/*         <TabList defaultActiveKey={1} tabStyle=\"bulbUnion\">\n          <Tab tabKey={1} style={{width: \"100px\"}}> */}\n            <div className=\"headerNote\">FLIXU DAO</div>\n            <div>&nbsp;</div>\n            {proposals && (\n            <div className=\"tabContent\">\n              \n              <div className=\"widgets\">\n                <Widget\n                  info={totalP}\n                  title=\"Proposals\"\n                  style={{ width: \"200%\" }}\n                >\n                  <div className=\"extraWidgetInfo\">\n                    <div className=\"extraTitle\">Passed</div>\n                    <div className=\"progress\">\n                      <div\n                        className=\"progressPercentage\"\n                        style={{ width: `${passRate}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                </Widget>\n                <Widget info={voters.length} title=\"Authorized Voters\" />\n                <Widget info={totalP-counted} title=\"Proposals In progress\" />\n              </div>\n              Proposals\n              <div style={{ marginTop: \"30px\" }}>\n                <Table\n                  columnsConfig=\"10% 70% 20%\"\n                  data={proposals}\n                  header={[\n                    <span>#</span>,\n                    <span>Topic</span>,\n                    <span>Status</span>,\n                  ]}\n                  pageSize={5}\n                />\n              </div>\n              <div>New Proposal</div>\n              <div>&nbsp;</div>     \n              <Form\n                  buttonConfig={{\n                    color: \"blue\",\n                    isLoading: sub,\n                    iconLayout: \"trailing\",\n                    icon: \"plus\",\n                    loadingText: \"Post Proposal\",\n                    theme: \"colored\",\n                  }}\n                  data={[\n                    {\n                      inputWidth: \"100%\",\n                      name: \"Add Proposal\",\n                      type: \"textarea\",\n                      validation: {\n                        required: true,\n                      },\n                      value: \"\",\n                    },\n                  ]}\n                  onSubmit={(e) => {\n                    setSub(true);\n                    createProposal(e.data[0].inputResult);\n                  }}\n                 \n                />\n<div>&nbsp;</div>\n            </div>\n            )}\n        {/*   </Tab> */}\n{/*           <Tab tabKey={2} tabName=\"Forum\"></Tab>\n          <Tab tabKey={3} tabName=\"Docs\"></Tab> */}\n      {/*   </TabList> */}\n      </div>\n      <div className=\"voting\"></div>\n      <div>&nbsp;</div>\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./pages.css\";\r\nimport { Tag, Widget, Blockie, Tooltip, Icon, Form, Table, useNotification } from \"web3uikit\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router\";\r\nimport { useMoralis, useWeb3ExecuteFunction } from \"react-moralis\";\r\nimport Formupload  from \"./fileUpload\";\r\n\r\nconst Proposal = () => {\r\n\r\n  const { state: proposalDetails } = useLocation();\r\n  const { Moralis, isInitialized } = useMoralis();\r\n  const [latestVote, setLatestVote] = useState();\r\n  const [percUp, setPercUp] = useState(0);\r\n  const [percDown, setPercDown] = useState(0);\r\n  const [votes, setVotes] = useState([]);\r\n  const [sub, setSub] = useState(false);\r\n  const contractProcessor = useWeb3ExecuteFunction();\r\n  const dispatch = useNotification();\r\n\r\n  const handleNewNotificationNewVote = function (type, icon, position) {\r\n    dispatch({\r\n    type: type,\r\n    message: 'You can not vote on this Proposal',\r\n    title: 'Note:',\r\n    icon: icon,\r\n    position: position || 'topR',\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isInitialized) {\r\n      \r\n      async function getVotes() {\r\n        \r\n        const Votes = Moralis.Object.extend(\"VotesFlixu\");\r\n        const query = new Moralis.Query(Votes);\r\n        query.equalTo(\"proposal\", proposalDetails.id);\r\n        query.descending(\"createdAt\");\r\n        const results = await query.find();\r\n        if (results.length > 0) {\r\n          setLatestVote(results[0].attributes);\r\n          setPercDown(\r\n            (\r\n              (Number(results[0].attributes.votesDown) /\r\n                (Number(results[0].attributes.votesDown) +\r\n                  Number(results[0].attributes.votesUp))) *\r\n              100\r\n            ).toFixed(0)\r\n          );\r\n          setPercUp(\r\n            (\r\n              (Number(results[0].attributes.votesUp) /\r\n                (Number(results[0].attributes.votesDown) +\r\n                  Number(results[0].attributes.votesUp))) *\r\n              100\r\n            ).toFixed(0)\r\n          );\r\n        }\r\n\r\n\r\n        const votesDirection = results.map((e) => [\r\n          e.attributes.voter,\r\n          <Icon\r\n            fill={e.attributes.votedFor ? \"#2cc40a\" : \"#d93d3d\"}\r\n            size={24}\r\n            svg={e.attributes.votedFor ? \"checkmark\" : \"arrowCircleDown\"}\r\n          />,\r\n        ]);\r\n\r\n        setVotes(votesDirection);\r\n\r\n      }\r\n      getVotes();\r\n\r\n    }\r\n  }, [isInitialized]);\r\n\r\n\r\n\r\n  async function castVote(upDown) {\r\n    \r\n    let options = {\r\n      contractAddress: \"0x4d11ff4250D4b12Aa508d99E6fCa6700354E4271\",\r\n      functionName: \"voteOnProposal\",\r\n      abi: [\r\n        {\r\n          inputs: [\r\n            {\r\n              internalType: \"uint256\",\r\n              name: \"_id\",\r\n              type: \"uint256\",\r\n            },\r\n            {\r\n              internalType: \"bool\",\r\n              name: \"_vote\",\r\n              type: \"bool\",\r\n            },\r\n          ],\r\n          name: \"voteOnProposal\",\r\n          outputs: [],\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n        },\r\n      ],\r\n      params: {\r\n        _id: proposalDetails.id,\r\n        _vote: upDown,\r\n      },\r\n    };\r\n\r\n\r\n    await contractProcessor.fetch({\r\n      params: options,\r\n      onSuccess: () => {\r\n        console.log(\"Vote Cast Succesfully\");\r\n        setSub(false);\r\n      },\r\n      onError: (error) => {\r\n        handleNewNotificationNewVote('warning');\r\n        alert(error.data.message);\r\n        setSub(false);\r\n      },\r\n    }); \r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"contentProposal\">\r\n        <div className=\"proposal\">\r\n          <Link to=\"/\">\r\n            <div className=\"backHome\">\r\n              <Icon fill=\"#ffffff\" size={20} svg=\"chevronLeft\" />\r\n              Home\r\n            </div>\r\n          </Link>\r\n          <div>{proposalDetails.description}</div>\r\n          <div className=\"proposalOverview\">\r\n            <Tag color={proposalDetails.color} text={proposalDetails.text} />\r\n             <div className=\"proposer\">\r\n                <span>Proposer </span>\r\n                <span></span>\r\n                <Tooltip content={proposalDetails.proposer}>\r\n                  <Blockie seed={proposalDetails.proposer} />\r\n                </Tooltip>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        {latestVote && (\r\n        <div className=\"widgets\">\r\n          <Widget info={latestVote.votesUp} title=\"Votes Yes\">\r\n            <div className=\"extraWidgetInfo\">\r\n              <div className=\"extraTitle\">{percUp}%</div>\r\n              <div className=\"progress\">\r\n                <div\r\n                  className=\"progressPercentage\"\r\n                  style={{ width: `${percUp}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </Widget>\r\n          <Widget info={latestVote.votesDown} title=\"Votes No.\">\r\n            <div className=\"extraWidgetInfo\">\r\n              <div className=\"extraTitle\">{percDown}%</div>\r\n              <div className=\"progress\">\r\n                <div\r\n                  className=\"progressPercentage\"\r\n                  style={{ width: `${percDown}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </Widget>\r\n        </div>\r\n        )}\r\n        {/* <div><Formupload/></div> */}\r\n        <div className=\"votesDiv\">\r\n\r\n          <Table\r\n            style={{ width: \"60%\" }}\r\n            columnsConfig=\"90% 10%\"\r\n            data={votes}\r\n            header={[<span>Wallet</span>, <span>Vote</span>]}\r\n            pageSize={5}\r\n          />\r\n          \r\n          <Form\r\n          \r\n            isDisabled={proposalDetails.text !== \"In progress\"}\r\n            style={{\r\n              width: \"35%\",\r\n              height: \"250px\",\r\n              border: \"1px solid rgba(6, 158, 252, 0.2)\",\r\n            }}\r\n            buttonConfig={{\r\n              color: \"blue\",\r\n              isLoading: sub,\r\n              loadingText: \"Your vote\",\r\n              text: \"Your vote\",\r\n              theme:\"colored\",\r\n            }}\r\n\r\n            data={[\r\n              {\r\n                \r\n                inputWidth: \"100%\",\r\n                name: \"Vote\",\r\n                options: [\"Yes\", \"No\"],\r\n                type: \"radios\",\r\n                validation: {\r\n                  required: true,\r\n                },\r\n              },\r\n            ]}\r\n            onSubmit={(e) => {\r\n              if (e.data[0].inputResult[0] === \"Yes\") {\r\n                castVote(true);\r\n              } else {\r\n                castVote(false);\r\n              }\r\n              setSub(true);\r\n            }}\r\n            title=\"Your vote\"\r\n          />\r\n                 \r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"voting\"></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Proposal;\r\n","export default __webpack_public_path__ + \"static/media/YourLogo.61f2818a.png\";","import React from \"react\";\nimport \"./App.css\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Proposal from \"./pages/Proposal\";\nimport yourLogo from \"./images/YourLogo.png\";\nimport { ConnectButton } from \"web3uikit\";\n\nconst App = () => {\n  return (\n    <>\n      <div className=\"header\">\n        <img  src={yourLogo} alt=\"logo\" width={\"72px\"} height={\"70px\"}/>\n        <ConnectButton signingMessage=\"Flixu Dao Hello.\" />\n      </div>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/proposal\" element={<Proposal />} />\n      </Routes>\n      <div>&nbsp;</div>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { MoralisProvider } from \"react-moralis\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { NotificationProvider} from \"web3uikit\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <MoralisProvider appId=\"zZO9lElSUBezWVjfCxmQrdsuU2OezsRZ2VRw3FE5\" serverUrl=\"https://udnjdcrnz145.usemoralis.com:2053/server\">\n      <BrowserRouter>\n        <NotificationProvider>\n          <App />\n        </NotificationProvider>\n      </BrowserRouter>\n    </MoralisProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}